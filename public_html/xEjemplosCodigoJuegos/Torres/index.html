
<!doctype html>
<html>
  <head>
    <title>Last Line of Defense - PLAYCANVAS</title>

    <meta name="description" content="A tower defense game for LD#31." />
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no' />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@playcanvas" />
    <meta name="twitter:title" content="Last Line of Defense" />
    <meta name="twitter:description" content="A tower defense game for LD#31." />
    <meta name="twitter:image" content="https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/8/333752/7BIPY8-image-50.jpg" />
    <meta name="twitter:domain" content="https://playcanv.as/p/OOoBHmSw/" />

    <meta property="og:url" content="https://playcanv.as/p/OOoBHmSw/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Last Line of Defense" />
    <meta property="og:description" content="A tower defense game for LD#31.">
    <meta property="og:image" content="https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/8/333752/7BIPY8-image-50.jpg" />
    <meta property="og:site_name" content="PlayCanvas" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Last Line of Defense">

    <meta name="mobile-web-app-capable" content="yes">

    <link rel="icon" href="https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/8/333752/7BIPY8-image-25.jpg">

    <link rel="manifest" href="https://playcanv.as/p/OOoBHmSw//manifest.json">

    <link rel="kik-icon" href="https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/8/333752/7BIPY8-image-50.jpg">
    <link rel="canonical" href="https://playcanv.as/p/OOoBHmSw/">

    <link rel="apple-touch-icon" href="https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/8/333752/7BIPY8-image-25.jpg" />

    <link rel="stylesheet" href="/css/styles.css">

    <style>
    </style>
  </head>
  <body>
    <div id='container'>
      <iframe id='frame'
              src='https://s3-eu-west-1.amazonaws.com/apps.playcanvas.com/TrcI4apF/index.html'
              webkitallowfullscreen='true'
              mozallowfullscreen='true'
              allowfullscreen='true'
              allowvr
              scrolling='no'
              frameBorder='0'>
      </iframe>
    </div>

    <div id='footer'>
      <a class='title' href='https://playcanvas.com/' target='_blank'>
        <div class='img'></div>
      </a>

      <div class='views'><img class='icon' src='https://s3-eu-west-1.amazonaws.com/static.playcanvas.com/images/eye.png' /><span id="viewcount">23994</span></div>

      <div id='fullscreen'></div>

      <div id='social'>
      </div>
    </div>

    <!-- FULLSCREEN -->
    <script type='text/javascript'>
      var iframe = document.getElementById('frame');

      // aggregate fullscreen to one method
      iframe.requestFullScreen = iframe.requestFullScreen || iframe.mozRequestFullScreen || iframe.webkitRequestFullScreen;
      var button = document.getElementById('fullscreen');

      // detect fullscreen is supported
      if (iframe.requestFullScreen) {
        button.classList.add('available');
        button.addEventListener('click', function () {
          iframe.requestFullScreen();

          if (kik.enabled) {
            kik.browser.statusBar(false);
          }
        }, false);
      }

      if (iframe.contentWindow)
        iframe.contentWindow.focus();
    </script>

    <script>
      var kik = {
        enabled: false
      };
    </script>

    <!-- SHARE -->
    <script type='text/javascript'>

      function addNetwork(network, _class) {
        var div = document.createElement("div");
        div.classList.add("share");
        div.classList.add(_class);
        div.setAttribute("data-network", network);

        var el = document.getElementById("social");
        el.appendChild(div);
      }


      if (kik.enabled) {
        function kik_share() {
          kik.send({
            title: 'Last Line of Defense',
            text: 'A tower defense game for LD#31.',
            pic: 'https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/8/333752/7BIPY8-image-50.jpg',
            big: true,
          });
        }
        ;

        addNetwork("kik", "kik");

        var buttons = document.querySelectorAll("#social > .share.kik")
        buttons[0].addEventListener('click', function () {
          kik_share(this.getAttribute('data-network'));
        });
      } else {
        addNetwork("facebook", "fb");
        addNetwork("twitter", "tw");
        addNetwork("google+", "gp");

        var share = function (network) {
          var title = document.title;
          var href = window.location;
          var text = document.head.querySelector('meta[name="description"]').getAttribute('content');
          var tweet = text;
          if (tweet.length > 110) {
            tweet = tweet.slice(0, 107) + '...';
          }
          var url = '';

          switch (network) {
            case 'facebook':
              url = "https://facebook.com/sharer.php?u=" + encodeURIComponent(href) + "&t=" + encodeURIComponent(text);
              break;
            case 'twitter':
              url = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(tweet) + "&url=" + encodeURIComponent(href)
              break;
            case 'google+':
              url = "https://plus.google.com/share?url=" + encodeURIComponent(href);
              break;
          }

          var left = (screen.width / 2) - (640 / 2);
          var top = (screen.height / 2) - (380 / 2);

          var popup = window.open(url, 'name', 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' + 640 + ', height=' + 380 + ', top=' + top + ', left=' + left);
          if (window.focus && popup) {
            popup.focus();
          }
        }

        var shareButtons = document.querySelectorAll('#social > .share');
        for (var i = 0; i < shareButtons.length; i++) {
          shareButtons[i].addEventListener('click', function () {
            share(this.getAttribute('data-network'));
          }, false);
        }
      }
    </script>


    <!-- FORMAT VIEWS -->
    <script>
      var views = document.querySelector("#viewcount");
      if (views) {
        var num = parseInt(views.textContent, 10);
        views.textContent = num.toLocaleString();
      }
    </script>

    <!-- Google Analytics -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)}, i[r].l = 1 * new Date();a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-23605814-1', 'auto');
      if (window.navigator.standalone) {
        ga('set', 'dimension1', true);
      }
      ga('send', 'pageview');

    </script>
    <!-- End Google Analytics -->


    <script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
  </body>
</html>
