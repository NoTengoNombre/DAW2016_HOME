<!--
    @Created on : 08-dic-2016, 13:50:31
    @Author     : RVS - N.F.N.D - Home
    @Pag        : http://www.anerbarrena.com/jquery-on-off-4767/
    @version    :
    @TODO       : matched = igualar 
                  jQuery on() y off(): Asignar de eventos a elementos del DOM
                  Vamos a repasar las funciones
                  de jQuery on() y off() 
                  para la asignación y eliminación 
                  de eventos a los diferentes elementos del DOM.

Desde la versión 1.7 de jQuery la función on() 
suple perfectamente a las similares funciones bind(), live() y delegate().

Lo mismo sucede con la función off(), 
suple a las funciones unbind(), die() and undelegate().

Sintaxis de jQuery on()
$(selector).on(evento, childSelector, parametros, funcion, mapeo)

- selector (obligatorio): Elemento del DOM al que queremos asignar un evento.
- evento (obligatorio): Evento que queremos controlar en el selector.

- childSelector (opcional): Selección del nodo hijo dentro del elemento. Este nodo hijo debe de estar dentro de nodo especificado en selector.

- parametros (opcional): Parámetros a pasar a la función.

- funcion(obligatorio): Función callback a ejecutar cuando se produzca el evento.

- mapeo (opcional): Mapeos realizados para cada evento, a cada mapeo se le asigna una función, pudiendo ser esta función diferente a la de los demás mapeos.


-->
<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Eventos</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="">
    <style>
      body{
        width: 300px;
        height: 300px;
        border: 1px solid #ff0000;
      }
      script{
        width: 300px;
        height: 300px;
        border: 5px dotted #00ff88;
        background-color: #00ff00;
      }
      div#aqui , #parrafo {
        height: 50px;
        width: 100px;
        border: 3px solid #ff0000;
        background-color: #00ff00;
      }

      #elementocontrolado1{
        background-color: #ccc;
        color: #000;
      }

    </style>
    <script type="text/javascript" src="../../../jquery-3.1.1.min.js"></script>
    <script>

//      Ejemplo Original
//      $(document).ready(function () {
//        $("elementocontrolado").on("click change", function () {
//          alert("Funcion on() activada");
//        });
//      });

      /**
       * 
       * Detecto los 2 eventos : 
       * 1º evento :: dblclick (doble click) 
       * 2º evento :: change (cambio de valor) en el elemento con id = ‘elementocontrolado’.
       * @type type
       */
//      var i = 0;
//      $(document).ready(function (event) {
//        $("#elementocontrolado").on("dblclick change", function () {
//          $("#elementocontrolado").append(" - " + event.type + " -> ").appendTo("#salida");
//        });
//      });


      /**
       *Os explico el ejemplo:
       Mantengo controlado el elemento con id = ‘elementocontrolado’.
       Con "change" (cambio de valor) detecto que el elemento ha variado de valor y saco un mensaje por pantalla
       En segundo lugar detecto el "dblclick" en el elemento y saco un mensaje por pantalla.
       El código HTML del input es idéntico al del ejemplo anterior.
       var c = 0;
       */
      var i = 0;
      $(document).ready(function () {
        $("#elementocontrolado").on("dblclick change", function () {
          ++i;
          alert("Funcion on() activada");
          $("#salida").append("#elementocontrolado :" + i).append('<br>');
          if (i == 3) {
            alert("Hello Friend " + i);
//            document.write("<h1> h </h1>" + i);
            location.reload();
          }
        });
      });
    </script>
  </head>
  <body>
    <h3>Ejemplo de jQuery on() para asignar 2 eventos a un elemento del DOM</h3>
    <div id="elementocontrolado1">Pulsa aqui</div>
    <p>Intro edad : <input id="elementocontrolado" type="number"></p>

    <p id="salida"></p>

  </body>
</html>
